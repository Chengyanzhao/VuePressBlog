(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{321:function(t,r,a){"use strict";a.r(r);var e=a(1),i=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"history-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#history-api","aria-hidden":"true"}},[t._v("#")]),t._v(" History API")]),t._v(" "),a("h2",{attrs:{id:"基本概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本概念","aria-hidden":"true"}},[t._v("#")]),t._v(" 基本概念")]),t._v(" "),a("ol",[a("li",[t._v("History API由HTML5增加，用来管理浏览器的历史记录，对应浏览器window.history API。")]),t._v(" "),a("li",[t._v("HTML5之前，只要浏览器URL改变，就会触发页面刷新。而HTML5新增的History API可实现改变URL不刷新页面。")])]),t._v(" "),a("h2",{attrs:{id:"window-history"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#window-history","aria-hidden":"true"}},[t._v("#")]),t._v(" window.history")]),t._v(" "),a("p",[t._v("在HTML5之前，window.history API已实现：")]),t._v(" "),a("ol",[a("li",[t._v("history.back():后退。")]),t._v(" "),a("li",[t._v("history.forward():前进。")]),t._v(" "),a("li",[t._v("history.go():跳转至历史记录中的某一个。")])]),t._v(" "),a("p",[t._v("HTML5新增：")]),t._v(" "),a("ol",[a("li",[t._v("history.pushState():改变Url，并推入历史记录，但页面不刷新。")]),t._v(" "),a("li",[t._v("history.replaceState():改变url，不推入历史记录，不刷新页面。")])]),t._v(" "),a("h2",{attrs:{id:"关于局部刷新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于局部刷新","aria-hidden":"true"}},[t._v("#")]),t._v(" 关于局部刷新")]),t._v(" "),a("p",[t._v("在HTML5 History API之前，想要不刷新页面而改变url，只能通过"),a("code",[t._v("#")]),t._v("页面定位符的hash模式来实现。\n但页面定位符的作用并不是用来实现局部刷新的，而是定位页面某个位置。\n出现的HTML5 HistoryAPi在原来history API的基础上增加了专门处理此问题的两个方法。")]),t._v(" "),a("h2",{attrs:{id:"pushstate和replacestate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pushstate和replacestate","aria-hidden":"true"}},[t._v("#")]),t._v(" pushState和replaceState")]),t._v(" "),a("p",[t._v("API:\n"),a("code",[t._v("pushState(state, title, url)")]),t._v(":")]),t._v(" "),a("ul",[a("li",[t._v("state Object:状态对象，当用户定向到一个新状态(url)时，会出发window的popstate时间。支持最大64kb的序列化字符串。")]),t._v(" "),a("li",[t._v("title: 页面标题，现已被多数浏览器弃用，传入null即可。")]),t._v(" "),a("li",[t._v("url:相对/绝对路径，但必须同域。")])]),t._v(" "),a("p",[a("code",[t._v("replaceState(state, title, url)")]),t._v(":参数同上。")]),t._v(" "),a("p",[t._v("相同：")]),t._v(" "),a("ol",[a("li",[t._v("参数相同。")]),t._v(" "),a("li",[t._v("都可以实现改变url不刷新页面。")])]),t._v(" "),a("p",[t._v("不同：\n1."),a("code",[t._v("pushState")]),t._v("会将url推入url历史记录栈中，可通过返回按钮返回。而"),a("code",[t._v("replaceState")]),t._v("是改变url，并不会推入历史记录栈中。")])])}],!1,null,null,null);r.default=i.exports}}]);